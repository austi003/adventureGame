<!DOCTYPE html>

<html>

<head> 
	<title>CodeNinja Adventure Game</title>
</head>

<body>

<script>
/*
// Begin Game
window.alert("Welcome young CodeNinja! \n\nThanks for playing the CodeNinja Adventure Game!");
window.alert("How the game works: \n\nCodeNinja is a text based RPG game that follows our hero," 
			+ " young CodeNinja. As the story progresses, you will be provided with various scenarios. "
			+ "As each scenario presents itself, you will be provided with a few possible alternative actions. "
			+ "Each time you are prompted for an action, you can perform one of the following tasks: \n\n"
			+ "1. Respond to the current scenario by selecting the appropriate action \n\n"
			+ "2. See the current status of your character by pressing the letter 's' \n\n"
			+ "3. Exit the game by pressing the letter 'e' \n\n"
			+ "Hope you enjoy!"
		);
*/
var userName = prompt("What would you like our young CodeNinja to be named?");
/*
// Setting the scene
window.alert("As our story begins, we find our young hero " + userName + " as he begins his weekly journey "
			+ "to see the wise & powerful Grand Ninja. \n\nToday appears to be like any other day as " + userName + " sets out on a 5 "
			+ "mile hike through the Miramar forest across the great land of Oz. What our unsuspecting character " + userName + " does not realize though, "
			+ "is that the forest has just been overrun with dark & dangerous creatures. \n\n"
			+ "With nothing but a sword in hand and 200 Gold pieces, we join " + userName + " for a CodeNinja adventure!"
	);

confirm("The game is starting now!"); 
*/
// declare our hero & enemies and set initial attributes

var codeNinja = {
	name: userName,
	health: [3,3],
	weapon: "Small sword",   //build out list of potential weapons as objects
	defense: "none",         //build out defense as objects 
	attackPower: 2,
	specialItems: ["Healing Potion"], //build out list of potential items as objects
	gold: 200
};

// create all badGuy objects to be called throughout the game
// reward is an array in the format of [gold, hearts, beer] health & beer can have a postive or negative consequence
var badGuy = new Object();
badGuy.one = {
	name: "'Bad Guy 1'",
	health: 2,
	attackPower: 2,
	reward: [200, .5, 1],
	willAcceptBribe: 15
}; 
badGuy.two = {
	name: "Bad Guy 2",
	health: 3,
	attackPower: 1.5,
	reward: [250, 1, -1]
};
badGuy.three = {
	name: "Bad Guy 3",
	health: 2,
	attackPower: 3,
	reward: [500, 1.5, -2]
};
badGuy.four = {
	name: "Bad Guy 4",
	health: 4,
	attackPower: 2,
	reward: [1000, 2, 1]
};
badGuy.mainBoss = {
	name: "Main Boss",
	health: 6,
	attackPower: 4,
	reward: [5000, ]
};
/*
// needed global variable to work with scenarios outside of my function
var scenario = 0;

//simple function to create the number of scenarios
howManyScenarios = function(number) {
	scenario = new Array(number);
	for (j=0; j < scenario.length; j++) {
		scenario[j] = ("Scenario " + (1 + j));
	};
};

var displayHeroStatus = function() {
	window.alert("Current Health:   " + codeNinja.health[0] + " / " + codeNinja.health[1] + "\n"
				+ "Weapon:   " + codeNinja.weapon + "\n"
				+ "Defense:   " + codeNinja.defense + "\n"
				+ "Attack Power:   " + codeNinja.attackPower + "\n"
				+ "Gold:   " + codeNinja.gold + "\n\n"
				+ "Special Items:   " + codeNinja.specialItems + "\n\n");
}; 
*/
var fight = function () {
	while (codeNinja.health[0] > 0 && badGuy.one.health > 0) {  
		var codeNinjaPower = Math.floor((Math.random() * codeNinja.attackPower) + 1);
		var badGuyPower = Math.floor((Math.random() * badGuy.one.attackPower) + 1);
		var lifeLost = 0;
		
		if (codeNinjaPower > badGuyPower) {
			lifeLost = parseInt(codeNinjaPower - badGuyPower);
			badGuy.one.health -= lifeLost;
			window.alert("Congrats you landed a hit! " + badGuy.one.name 
						+ " lost " + lifeLost + " point(s) of his life.");
		} 
		else if (codeNinjaPower == badGuyPower) {
		
		} 
		else {
			lifeLost = parseInt(badGuyPower - codeNinjaPower);
			codeNinja.health[0] -= lifeLost;
			window.alert("Ouch, " + badGuy.one + " landed a hit." 
						+ " You lost " + lifeLost + " point(s) of your health.");
		}; 
	};

if (codeNinja.health[0] = 0) {
	window.alert("You lost");
}
else {
	window.alert("You win");
};

};

fight();

/*
var fightOrFlee = function() {
	var battleChoice = prompt("In the heat of the moment, what do you do? Fight him? Bribe him? Or run? \n\n"
						+ "Press 1 to Fight him \n"
						+ "Press 2 to try to sneak around him \n"
						+ "Press 3 to try to bribe him \n"
						+ "Press 4 to check your current health and attributes \n");
	
	while (["1", "2", "3", "4"].indexOf(battleChoice) < 0) {
		window.alert("Oops, you made a wrong choice. Please carefully review your choices and choose what you'd like to do.")
		battleChoice = prompt("In the heat of the moment, what do you do? Fight him? Bribe him? Or run? \n\n"
						+ "Press 1 to Fight him \n"
						+ "Press 2 to try to sneak around him \n"
						+ "Press 3 to try to bribe him \n"
						+ "Press 4 to check your current health and attributes \n");
	};
	
	switch(battleChoice) {
		case '1':
			fight();
			break;
		case '2': 
			document.write("Build out sneak around scenario");
			break;
		case '3': //Try to bribe the bad guy
			var userBribe = (parseInt(prompt("How many gold pieces will you try to bribe him with?"))); 
			while (isNaN(userBribe)) {
				userBribe = (parseInt(prompt("Please use numbers only. How many gold pieces will you try to bribe him with?")));
			};
			
			if (userBribe < badGuy.one.willAcceptBribe) {
					window.alert(badGuy.one.name + " fell to the ground laughing! Apparently your bribe was not large enough.");
					fightOrFlee();
			}
			else {
				document.write("You successfully bribed " + badGuy.one.name + " and you are on your way!");
			};
			break;
		case '4':  //Display character properties
			displayHeroStatus();
			fightOrFlee();
			break;
	};
};

howManyScenarios(4); //if you change the argument, add additional switch cases

//iterating through my howManyScenarios function to build out scenarios using a switch case
for (i=0; i < scenario.length; i++) {
	switch(scenario[i]) {
		case 'Scenario 1':
			window.alert("You run into a troll");
			fightOrFlee();
			break;
		case 'Scenario 2': 
			window.alert("You run into a ogre");
			fightOrFlee();
			break;
		case 'Scenario 3':
			window.alert("You run into a warewolf");
			fightOrFlee();
			break;
		case 'Scenario 4':
			window.alert("You run into a wizard");
			fightOrFlee();
			break;
	};
}; */

</script>

</body>

</html>